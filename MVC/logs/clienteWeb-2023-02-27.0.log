2023-02-27 00:21:40,169 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting ProyectoApplication using Java 17.0.3.1 on DESKTOP-U83I70G with PID 14208 (E:\springboot\proyecto\target\classes started by jsusi in E:\springboot\proyecto)
2023-02-27 00:21:40,170 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2023-02-27 00:21:40,204 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-02-27 00:21:40,204 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-02-27 00:21:40,965 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-27 00:21:40,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-27 00:21:40,988 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.FilmRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,990 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.PersonRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,991 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.ReviewRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,992 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.RoleRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,993 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.ScoreRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,994 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.tokioschool.web.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-27 00:21:40,995 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 24 ms. Found 0 JDBC repository interfaces.
2023-02-27 00:21:41,001 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-27 00:21:41,002 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-27 00:21:41,030 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2023-02-27 00:21:41,471 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2023-02-27 00:21:41,480 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2023-02-27 00:21:41,481 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2023-02-27 00:21:41,481 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.69]
2023-02-27 00:21:41,543 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2023-02-27 00:21:41,543 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1338 ms
2023-02-27 00:21:41,758 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-27 00:21:41,792 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.6.14.Final
2023-02-27 00:21:41,897 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-27 00:21:41,972 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2023-02-27 00:21:42,095 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2023-02-27 00:21:42,117 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2023-02-27 00:21:42,704 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-27 00:21:42,710 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 00:21:43,150 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-27 00:21:43,166 INFO com.tokioschool.web.config.FilmImageConfig [restartedMain] Comprobamos existencia directorio
2023-02-27 00:21:43,310 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/resources/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,310 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/resources/**']
2023-02-27 00:21:43,311 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/static/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/static/**']
2023-02-27 00:21:43,311 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/templates/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/templates/**']
2023-02-27 00:21:43,311 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/css/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,311 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/css/**']
2023-02-27 00:21:43,312 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/js/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/js/**']
2023-02-27 00:21:43,312 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/images/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/images/**']
2023-02-27 00:21:43,312 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/fonts/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/fonts/**']
2023-02-27 00:21:43,312 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/webjars/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/webjars/**']
2023-02-27 00:21:43,312 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [restartedMain] You are asking Spring Security to ignore Ant [pattern='/error/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-02-27 00:21:43,313 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will not secure Ant [pattern='/error/**']
2023-02-27 00:21:43,349 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a6aad44, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d8bca45, org.springframework.security.web.context.SecurityContextPersistenceFilter@299d63cb, org.springframework.security.web.header.HeaderWriterFilter@4c091b79, org.springframework.security.web.csrf.CsrfFilter@7436f1a9, org.springframework.security.web.authentication.logout.LogoutFilter@1aaf07e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2196a64c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57e30742, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a4ef06e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9bbbb7e, org.springframework.security.web.session.SessionManagementFilter@68790e75, org.springframework.security.web.access.ExceptionTranslationFilter@75a027b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ea06d39]
2023-02-27 00:21:43,431 INFO org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping [restartedMain] Adding welcome page template: index
2023-02-27 00:21:43,717 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2023-02-27 00:21:43,721 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 1 endpoint(s) beneath base path '/actuator'
2023-02-27 00:21:43,748 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2023-02-27 00:21:43,774 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2023-02-27 00:21:43,788 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started ProyectoApplication in 3.981 seconds (JVM running for 4.814)
2023-02-27 00:21:45,103 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-27 00:21:45,103 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-02-27 00:21:45,105 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 2 ms
2023-02-27 00:33:50,213 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-8] No hay token procedemos a solicitar uno
2023-02-27 00:33:50,592 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-8] Token Generado
2023-02-27 00:33:50,593 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:33:50,633 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:33:50,636 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:33:50,649 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:34:06,816 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] Procedemos a mandar la solicitud
2023-02-27 00:34:06,826 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] recibimos la solicitud en el response
2023-02-27 00:34:06,828 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] Procedemos a mandar la solicitud
2023-02-27 00:34:06,836 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] recibimos la solicitud en el response
2023-02-27 00:34:12,044 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] **************************save film**************************************
2023-02-27 00:34:12,067 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] Procedemos a mandar la solicitud
2023-02-27 00:34:12,076 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] recibimos la solicitud en el response
2023-02-27 00:34:12,078 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] Procedemos a mandar la solicitud
2023-02-27 00:34:12,085 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] recibimos la solicitud en el response
2023-02-27 00:34:33,883 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-5] Procedemos a mandar la solicitud
2023-02-27 00:34:33,894 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-5] recibimos la solicitud en el response
2023-02-27 00:34:33,896 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-5] Procedemos a mandar la solicitud
2023-02-27 00:34:33,908 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-5] recibimos la solicitud en el response
2023-02-27 00:36:34,351 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] Procedemos a mandar la solicitud
2023-02-27 00:36:34,372 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] recibimos la solicitud en el response
2023-02-27 00:36:34,374 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] Procedemos a mandar la solicitud
2023-02-27 00:36:34,386 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] recibimos la solicitud en el response
2023-02-27 00:36:58,932 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-3] No hay token procedemos a solicitar uno
2023-02-27 00:36:59,154 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-3] Token Generado
2023-02-27 00:36:59,155 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-3] Procedemos a mandar la solicitud
2023-02-27 00:36:59,164 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-3] recibimos la solicitud en el response
2023-02-27 00:36:59,165 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-3] Procedemos a mandar la solicitud
2023-02-27 00:36:59,174 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-3] recibimos la solicitud en el response
2023-02-27 00:37:11,470 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-7] **************************save film**************************************
2023-02-27 00:37:11,483 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] Procedemos a mandar la solicitud
2023-02-27 00:37:11,493 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] recibimos la solicitud en el response
2023-02-27 00:37:11,494 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] Procedemos a mandar la solicitud
2023-02-27 00:37:11,504 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] recibimos la solicitud en el response
2023-02-27 00:37:21,309 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] Procedemos a mandar la solicitud
2023-02-27 00:37:21,322 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] recibimos la solicitud en el response
2023-02-27 00:37:21,324 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] Procedemos a mandar la solicitud
2023-02-27 00:37:21,335 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-1] recibimos la solicitud en el response
2023-02-27 00:37:42,070 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] Procedemos a mandar la solicitud
2023-02-27 00:37:42,081 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] recibimos la solicitud en el response
2023-02-27 00:37:42,083 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] Procedemos a mandar la solicitud
2023-02-27 00:37:42,092 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] recibimos la solicitud en el response
2023-02-27 00:39:40,251 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-8] No hay token procedemos a solicitar uno
2023-02-27 00:39:40,475 INFO com.tokioschool.web.util.HelperRest [http-nio-8080-exec-8] Token Generado
2023-02-27 00:39:40,475 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:39:40,491 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:39:40,493 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:39:40,503 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:48:57,151 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] Procedemos a mandar la solicitud
2023-02-27 00:48:57,195 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] recibimos la solicitud en el response
2023-02-27 00:48:57,196 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] Procedemos a mandar la solicitud
2023-02-27 00:48:57,205 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-9] recibimos la solicitud en el response
2023-02-27 00:49:18,798 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:49:18,808 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:49:18,810 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] Procedemos a mandar la solicitud
2023-02-27 00:49:18,819 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-8] recibimos la solicitud en el response
2023-02-27 00:49:38,765 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2023-02-27T00:49:38.756+00:00","status":500,"error":"Internal Server Error","trace":"org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User; nested exception is java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy14/jdk.proxy14.$Proxy203.findByUserAndFilm(Unknown Source)\r\n\tat com.tokioschool.spring.service.impl.ReviewServiceImpl.findByUserAndFilm(ReviewServiceImpl.java:24)\r\n\tat com.tokioschool.spring.controller.ControllerReview.newReview(ControllerReview.java:65)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat com.tokioschool.spring.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:80)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:151)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1626)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665)\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 103 more\r\nCaused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User\r\n\tat org.hibernate.engine.internal.ForeignKeys.getEntityIdentifierIfNotUnsaved(ForeignKeys.java:347)\r\n\tat org.hibernate.type.EntityType.getIdentifier(EntityType.java:508)\r\n\tat org.hibernate.type.EntityType.nullSafeSet(EntityType.java:289)\r\n\tat org.hibernate.param.NamedParameterSpecification.bind(NamedParameterSpecification.java:53)\r\n\tat org.hibernate.loader.hql.QueryLoader.bindParameterValues(QueryLoader.java:682)\r\n\tat org.hibernate.loader.Loader.bindPreparedStatement(Loader.java:2150)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2127)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\t... 119 more\r\n","message":"org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User; nested exception is java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.tokioschool.spring.domain.User","path":"/new-review"}"]
2023-02-27 00:50:53,696 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-7] Resolved [com.tokioschool.web.exceptions.FoundReviewException: Ya hiciste la critica, no se puede repetir<EOL>Info: 302]
2023-02-27 00:50:59,252 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] Procedemos a mandar la solicitud
2023-02-27 00:50:59,267 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] recibimos la solicitud en el response
2023-02-27 00:50:59,268 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] Procedemos a mandar la solicitud
2023-02-27 00:50:59,277 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] recibimos la solicitud en el response
2023-02-27 00:58:52,899 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] Procedemos a mandar la solicitud
2023-02-27 00:58:52,927 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] recibimos la solicitud en el response
2023-02-27 00:58:52,929 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] Procedemos a mandar la solicitud
2023-02-27 00:58:52,938 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-6] recibimos la solicitud en el response
2023-02-27 01:00:14,873 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] Procedemos a mandar la solicitud
2023-02-27 01:00:14,893 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] recibimos la solicitud en el response
2023-02-27 01:00:14,895 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] Procedemos a mandar la solicitud
2023-02-27 01:00:14,903 INFO com.tokioschool.web.controller.ControllerFilm [http-nio-8080-exec-10] recibimos la solicitud en el response
2023-02-27 01:02:18,278 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(47)-127.0.0.1] Application shutdown requested.
2023-02-27 01:02:18,284 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(47)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2023-02-27 01:02:18,284 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(47)-127.0.0.1] Stopping service [Tomcat]
2023-02-27 01:02:18,285 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(47)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2023-02-27 01:02:18,291 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(47)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2023-02-27 01:02:18,293 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(47)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2023-02-27 01:02:18,298 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(47)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-27 01:02:18,300 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(47)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2023-02-27 01:02:18,303 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(47)-127.0.0.1] HikariPool-1 - Shutdown completed.
